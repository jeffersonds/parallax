<!DOCTYPE html>
<html>
<head>
	<title>Parallax</title>

	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<link href="/stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
	<!--[if IE]>
	  <link href="/stylesheets/ie.css" media="screen, projection" rel="stylesheet" type="text/css" />
	<![endif]-->
	
	<script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>

</head>
<body>
	
	<progress value="0">
	  <div class="progress-container">
	    <span class="progress-bar"></span>
	  </div>
	</progress>

	<div id="slides-container">
		<div id="slides" 	data-0="transform:translate(0%,0%);"
						    
						    data-150p="transform:translate(0%,-50%);"
						    data-200p=""
						    data-300p="transform:translate(-50%,-50%);"
						    data-350p=""
						    data-450p="transform:translate(-50%,0%);">
			
			
			<div id="slide-1" class="slide">

				<div class="caption" 	data-40p="opacity: 1; transform:translate(0px,0px);"
									    data-70p="opacity: 0; transform:translate(0px,-100%);"
									    data-anchor-target="#helper">

					<h1>Image 1 Title</h1>
				    <p>Image description goes here.</p>
				</div>

			</div>

	        <div id="slide-2" class="slide">

	        	<div class="caption" 	data-130p="opacity: 0; transform:translate(0px,-200%);"
									    data-180p="opacity: 1; transform:translate(0px,0px);"
									    data-250p=""
									    data-280p="opacity: 0; transform:translate(-100px,0px);"
									    data-anchor-target="#helper">
				    <h1>Image 1 Title</h1>
				    <p>Image description goes here.</p>
				</div>

	        </div>

	        <div id="slide-3" class="slide">
	        	
	        	<div class="caption" 	data-250p="opacity: 0; transform:translate(300px,0px);"
									    data-300p="opacity: 1; transform:translate(0px,0px);"
									    data-anchor-target="#helper">
				    <h1>Image 1 Title</h1>
				    <p>Image description goes here.</p>
				</div>

	        </div>

	        <div id="slide-4" class="slide">

	        	<div class="caption" 	data-430p="opacity: 0;"
									    data-450p="opacity: 1;"
									    data-anchor-target="#helper">
				    <h1>Image 1 Title</h1>
				    <p>Image description goes here.</p>
				</div>

	        </div>

		</div>
	</div>

	<div id="helper">
	    <div class="marker red"></div>
	    <div class="marker green"></div>
	    <div class="marker blue"></div>
	    <div class="marker yellow"></div>
	</div>

	<!-- Include Skrollr.js -->
	<script src="javascripts/skrollr.js"></script>
	
	
	<script type="text/javascript">
	    var s = skrollr.init();

	    $(document).ready(function() {
	        
	      var getMax = function(){
	        return $(document).height() - $(window).height();
	      }
	        
	      var getValue = function(){
	        return $(window).scrollTop();
	      }
	        
	      if ('max' in document.createElement('progress')) {
	        // Browser supports progress element
	        var progressBar = $('progress');
	            
	        // Set the Max attr for the first time
	        progressBar.attr({ max: getMax() });

	        $(document).on('scroll', function(){
	          // On scroll only Value attr needs to be calculated
	          progressBar.attr({ value: getValue() });
	        });
	          
	        $(window).resize(function(){
	          // On resize, both Max/Value attr needs to be calculated
	          progressBar.attr({ max: getMax(), value: getValue() });
	        }); 
	      
	      } else {

	        var progressBar = $('.progress-bar'), 
	            max = getMax(), 
	            value, width;
	            
	        var getWidth = function() {
	          // Calculate width in percentage
	          value = getValue();            
	          width = (value/max) * 100;
	          width = width + '%';
	          return width;
	        }
	            
	        var setWidth = function(){
	          progressBar.css({ width: getWidth() });
	        }
	            
	        $(document).on('scroll', setWidth);
	        $(window).on('resize', function(){
	          // Need to reset the Max attr
	          max = getMax();
	          setWidth();
	        });
	      }
	    });
	    
	</script>
</body>
</html>